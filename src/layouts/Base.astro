---


import "../styles/tailwind.css";
import NavBar from "@/components/NavBar";
const { title = "Lesson" } = Astro.props as { title?: string };
---
<html lang="ru" class="bg-background text-foreground">
  <head>
      <script is:inline>
      // Применяем тему из localStorage или из системной настройки ДО отрисовки
      (function () {
      try {
        var ls = localStorage.getItem('theme');
        var m = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        var dark = ls ? ls === 'dark' : m;
        if (dark) document.documentElement.classList.add('dark');
        // Подсказываем браузеру палитру: влияет на системные компоненты
        document.documentElement.style.colorScheme = dark ? 'dark' : 'light';
      } catch (e) {}
       })();
  </script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
  </head>
  <body class="min-h-screen bg-background text-foreground">
    <header class="sticky top-0 z-40 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60">
      <!-- Передаём текущий путь для подсветки активного пункта -->
      <NavBar client:load currentPath={Astro.url.pathname} />
    </header>
    <main class="mx-auto max-w-7xl px-4 py-6">
      <slot />
    </main>
  </body>
</html>